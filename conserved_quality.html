<html>
<head><title>Cellular Doodles</title></head>
<body>
<h1>Cellular Doodles</h1>
<p>
  A short list of block cellular automata demonstrations.
  <!-- TODO: link -->
</p>
<p>
  Unlike conventional cellular automata (e.g. Conway's Game of Life TODO link), which base a cell's state on every neighbouring cell,
  block automata only look at some of the neighbours in each step.
  These block automata divide the grid into 2&times;2 blocks, and
  calculate the new state of a block at a time.
  Cells in a block can depend on other cells in that block, but not on any cells outside the block.
</p>
<p>
  By using different blocks in alternating steps, effects can still
  spread across the whole field.
</p>
<p>
  Block cellular automata like this are good at modelling conserved
  properties, like mass. If the update rule doesn't change the total
  mass of a block, then the total mass in the whole world must
  remain the same.
</p>

<section id="flood-automaton">
  <h2>"Flood" Automaton</h2>
  <canvas id="flood" width=100 height=100
          data-rules='{"water": {"type": "block", "rule": "flood", "parameters": [1], "maximum": 8}}'
          data-palette='{"water": {"r":0, "g":0, "b":1}}'
          data-initial='[{"layer": "water", "action": "set", "value": 1000, "x": 50, "y": 50}]'
          data-click='{"action":"add", "params":[1000]}'>
  </canvas>
  <p>
    This automaton shows something like water or gas flooding
    through a space.
    Cells take values from 0 to 8, and the update rule sets all
    cells in a block to the average value of the block;
    so the total mass in the system tries to spread out evenly.
  </p>
  <p>
    If the amount in a block can't be divided evenly, this
    automaton moves the leftovers to a random cell.
  </p>
</section>

<section id="sandpile-automaton">
  <h2>"Sand Pile" Automaton</h2>
  <canvas id="sandpile" width=100 height=100
          data-rules='{"sand": {"type": "block", "rule": "flood", "parameters": [0.9], "maximum": 8}}'
          data-palette='{"sand": {"r":1, "g":1, "b":0}}'
          data-initial='[{"layer": "sand", "action": "set", "value": 1000, "x": 50, "y": 50 }]'
          data-click='{"action":"add", "params":[1000]}'>
  </canvas>
  <p>
    This is the same rule as above, except we always leave at least 10% of
    the extra mass behind; e.g. if the average value in a block
    is 10, and one cell has mass 20, it will be left with 11 mass
    rather than 10. This means cells with only slightly more mass
    than their neighbours tend to sit stably and not spread out.
  </p>
  <p>
    As a result, all the "sand" stays stuck in one pile rather than
    spreading evenly through the space.
  </p>
</section>

<script src="built.js"></script>
</body>
